{% extends 'base.html.twig' %}

{% block title %}Pannel d'administration
{% endblock %}

{% block body %}
	<style>
		.example-wrapper {
			display: flex;
			flex-direction: column;
			align-items: center;
		}
		.petiteInfo {
			align-self: start;
			margin-left: 10px;

		}
		.example-wrapper span {
			align-self: end;
			margin-right: 10px;
			margin-top: 20px;
		}

		table {
			text-align: center;

		}

		thead tr {
			background: #B6AC97
		}
		tbody tr:nth-child(2n + 1) {
			background: white
		}
		tbody tr:nth-child(2n) {
			background: #B6AC97
		}
		th {
			background: #B6AC97
		}
		button {
			cursor: pointer;
			background: inherit;
			border: none;
		}
		td,
		th {
			max-width: 20vw;
			overflow-x: auto;

		}
		.emailTab {
			max-width: 70vw;
		}
		table,
		th,
		td {
			border: 1px solid black;
			border-collapse: collapse;
			padding: 5px;
		}
		.btn_main {
			background: hsl(35, 57%, 36%, 0.5);
			border: 2px solid #392C1E;
			box-shadow: 0 1px 4px #392c1e;
			border-radius: 5px;
		}
		.btn_main:hover {
			box-shadow: 0 0 4px #b6ac97;
			color: #392c1e;
		}
		.btn_main:active {
			box-shadow: inset 0 0 2px 1px #392c1e;
		}
		.buttonstab {
			margin: 10px;
		}
		.accepOverflow {
			overflow: visible;
		}
		.overflowx{
			overflow-x:scroll;
		}
	</style>
	<div class="example-wrapper">
  <div class='petiteInfo'>
		<p>Bienvenue sur votre gestionnaire de structure administrateur</p>
		<a href="{{ path('app_admin_page')}}">Pannel d'administrateur
		</a>
  </div>  
		<h1>Structure du site</h1>
		<h2>
			Info Restaurant
		</h2>
		<div class="overflowx">
		<table>
			<thead>
				<tr>
					<th>Jour</th>
					<th>Ouvert / Fermé</th>
					<th>debut déjeuner</th>
					<th>fin déjeuner</th>
					<th>debut diner</th>
					<th>fin déjeuner</th>
					<th colspan='2'>Action</th>
				</tr>
			</thead>
			<tbody>
				{% for name,jour in semaine %}
					<tr>
						<td>{{name}}</td>
						{% if jour['open'] == true  %}
							<td>Ouvert</td>
							{% if jour['open_midi'] != null %}
								<td>{{jour['open_midi']|date('H:i')}}</td>
								<td>{{jour['close_midi']|date('H:i')}}</td>
							{% else %}
								<td></td>
								<td></td>
							{% endif %}
							{% if jour['open_soir'] != null %}
								<td>{{jour['open_soir']|date('H:i')}}</td>
								<td>{{jour['close_soir']|date('H:i')}}</td>
							{% else %}
								<td></td>
								<td></td>
							{% endif %}
						{% else %}
							<td>Fermé</td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
						{% endif %}
						<td class="accepOverflow">
							<div {{ react_component('ModifyHoraire', { 'id' : jour['id'], 'jour': name, 'isOpen': jour['open'] } ) }}></div>
						</td>
						<td class="accepOverflow">
							<div {{ react_component('RemoveHoraire', { 'id' : jour['id']} ) }}> </div>
            </td> 
          </tr> 
          {% endfor %} 
        </tbody> 
    </table> 
		</div>
      <h2> galerie </h2>
      <table> 
        <thead> 
          <tr> 
            <th>Titre </th>
								<th>Format</th>
								<th>Ordre</th>
								<th colspan='2'>Action</th>
							</tr>
						</td>
					</tr>
				</thead>
			</tbody>
			<tbody>
				{% for image in galeries %}
					<tr>
						<td>{{image.getTitre()}}</td>
						<td>{{image.getFormat()}}</td>
						<td>{{image.getOrdre()}}</td>
						<td class="accepOverflow "><div {{ react_component('ModifyGalerie', { 'uuid' : image.getUuid(), 'ordre': image.getOrdre(), 'titre': image.getTitre(),'format': image.Format() } ) }}></div></td>
						<td>
							<a href="{{ path('app_galerie_remove',{ 'id': image.getUuid()})}}">supprimer</a>
						</td>
					</tr>
				{% endfor %}
			</tbody>
		</td>
		</tbody>
	</table>
		
<div class="buttonstab">
	<a href="{{ path('app_galerie_new') }}">Ajouter une image</a>
</div></div>{% endblock %}{% use "nav.html.twig" %}{% use "footer.html.twig"%}
